<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Checkout â€“ H & Aur@</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --grad: linear-gradient(90deg,#f5b041,#f39c12,#e74c3c);
  --soft: linear-gradient(180deg,#ffffff,#fff4f5);
}
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,Arial;background:#fff7f5}
header{background:#111;color:#fff;padding:15px 20px}
.wrap{max-width:1100px;margin:auto;padding:28px 20px}
.grid{display:grid;gap:22px;grid-template-columns:1.1fr .9fr}
@media(max-width:900px){.grid{grid-template-columns:1fr}}

.card{
  background:var(--soft);
  border-radius:22px;
  padding:20px;
  box-shadow:0 18px 40px rgba(0,0,0,.12);
}
.badge{
  display:inline-block;padding:6px 14px;border-radius:999px;
  background:#fff3cd;font-weight:700;font-size:13px;margin-bottom:10px;
}
input,textarea{
  width:100%;padding:14px;border-radius:14px;
  border:1px solid #ddd;margin:8px 0;
}
.btn{
  width:100%;padding:16px;border-radius:999px;border:none;
  font-weight:900;cursor:pointer;background:var(--grad);color:#fff;
}
.pay{display:flex;gap:10px;margin:10px 0}
.pay button{
  flex:1;padding:14px;border-radius:999px;border:1px solid #ddd;
  background:#fff;font-weight:800;
}
.pay button.active{background:var(--grad);color:#fff;border:none}
.item{margin:8px 0}
.qty{display:flex;gap:8px;align-items:center}
.qty button{
  width:28px;height:28px;border-radius:50%;
  border:none;background:var(--grad);color:#fff;font-weight:900;
}
.total{font-size:18px;font-weight:900}
.error{color:#c0392b;font-size:13px}

#upiModal{
  display:none;
  position:fixed;inset:0;
  background:rgba(0,0,0,.6);
  z-index:9999;
}
#upiBox{
  background:#fff;
  max-width:360px;
  margin:80px auto;
  padding:20px;
  border-radius:20px;
  text-align:center;
}
</style>
</head>

<body>

<header>
  <strong>H & Aur@</strong><br>
  <small>Where beauty meets aura....</small>
</header>

<div class="wrap">
<div class="grid">

<div class="card">
<span class="badge">ðŸŽ‰ Free Shipping above â‚¹999</span>

<input id="name" placeholder="Full Name *">
<input id="phone" placeholder="Mobile Number *">
<textarea id="address" placeholder="Full Address *"></textarea>
<div id="err" class="error"></div>

<h3>Payment</h3>
<div class="pay">
<button id="codBtn" onclick="setPay('COD')">COD</button>
<button id="upiBtn" onclick="setPay('UPI')">UPI</button>
</div>

<button class="btn" onclick="placeOrder()">Place Order</button>
</div>

<div class="card">
<h3>Your Order</h3>
<div id="items"></div>
<p>Subtotal: â‚¹<span id="sub">0</span></p>
<p>Shipping: â‚¹<span id="ship">0</span></p>
<p class="total">Total: â‚¹<span id="tot">0</span></p>
</div>

</div>
</div>

<div id="upiModal">
  <div id="upiBox">
    <h3>Complete Payment</h3>
    <p>UPI ID:<br><b>adityadhiman7876-1@oksbi</b></p>
    <button class="btn" onclick="openUPI()">Open UPI App</button><br><br>
    <button class="btn" onclick="markPaid()">Payment Done</button>
  </div>
</div>

<script>
const UPI_ID="adityadhiman7876-1@oksbi";

const itemsEl=document.getElementById("items"),
sub=document.getElementById("sub"),
ship=document.getElementById("ship"),
tot=document.getElementById("tot"),
err=document.getElementById("err"),
name=document.getElementById("name"),
phone=document.getElementById("phone"),
address=document.getElementById("address"),
codBtn=document.getElementById("codBtn"),
upiBtn=document.getElementById("upiBtn");

let cart=JSON.parse(localStorage.getItem("cart"))||[];
let payment="";

function render(){
 let s=0,html="";
 cart.forEach((p,i)=>{
  s+=p.price*p.qty;
  html+=`
  <div class="item">
    <b>${p.name}</b><br>
    â‚¹${p.price} Ã— ${p.qty}
    <div class="qty">
      <button onclick="chg(${i},-1)">âˆ’</button>
      <span>${p.qty}</span>
      <button onclick="chg(${i},1)">+</button>
    </div>
  </div>`;
 });
 itemsEl.innerHTML=html||"Empty";
 sub.textContent=s;
 ship.textContent=s>=999?0:79;
 tot.textContent=s+(s>=999?0:79);
}
render();

function chg(i,v){
 cart[i].qty+=v;
 if(cart[i].qty<=0) cart.splice(i,1);
 localStorage.setItem("cart",JSON.stringify(cart));
 render();
}

function setPay(p){
 payment=p;
 codBtn.classList.remove("active");
 upiBtn.classList.remove("active");
 if(p==="COD") codBtn.classList.add("active");
 if(p==="UPI") upiBtn.classList.add("active");
}

function placeOrder(){
 err.textContent="";
 if(!cart.length||!name.value||!phone.value||!address.value||!payment){
  err.textContent="Fill all details";return;
 }

 const total=+tot.textContent;

 localStorage.setItem("lastOrder",JSON.stringify({
  items:cart.map(p=>`${p.name} Ã— ${p.qty}`),
  total,payment,
  status:payment==="COD"?"Pending COD":"Pending UPI",
  date:new Date().toLocaleString()
 }));

 if(payment==="UPI"){
  document.getElementById("upiModal").style.display="block";
  openUPI();
  return;
 }

 localStorage.removeItem("cart");
 location.href="my-orders.html";
}

function openUPI(){
 const upi=`upi://pay?pa=${UPI_ID}&pn=H%20%26%20Aur@&am=${tot.textContent}&cu=INR`;
 location.href=upi;
}

function markPaid(){
 let o=JSON.parse(localStorage.getItem("lastOrder"));
 o.status="Paid";
 localStorage.setItem("lastOrder",JSON.stringify(o));
 localStorage.removeItem("cart");
 location.href="my-orders.html";
}
</script>

</body>
</html>
